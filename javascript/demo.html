<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" http-equiv="Content-Type" content="text/html; charset=uft-8" />
    <link rel="stylesheet" type="text/css" href="tool.css" />
    <script src="zlib.js" charset="utf-8" type="text/javascript"></script>
    <script src="ws.js" charset="utf-8" type="text/javascript"></script>
    <title>dzhyun javascript demo</title>
</head>
<body>

<div id="wrapper">

<div id="CodeArea">
<h2>请求代码:</h2>
<textarea id="RequestCode" wrap="logical">
/json/objinfo/getinfo?field=obj,time,new,name&where=obj=SH600000.stk&response_times=-1</textarea>
</div>

<div id="result">
    <h2>查看结果:</h2>
    <textarea id="ResponseResult" wrap="wrap" readonly="true"></textarea>
</div>

<div id="butt">
    <input type="button" value="提交请求" onClick="submitRequest()">
    <input type="button" value="取消请求" onClick="cancelRequest()">
</div>

</div>

<script charset="utf-8" type="text/javascript">
    //获得访问参数
    function QueryString(val) {
        var uri = window.location.search;
        var re = new RegExp("" +val+ "=([^&?]*)", "ig");
        return ((uri.match(re))?(uri.match(re)[0].substr(val.length+1)):null);
    }
    //调用方法获得参数
    var str = QueryString('show_first_resp');
    if(str && str === '0'){
        show_first_resp = false;
    }
    str = QueryString("request");
    if(str){
        str  = UrlDecode(str)
        document.getElementById('RequestCode').value = str;
    }
    //初始化websocket
    initWebsocket();
</script>


</body>
</html>